import{a as S,_ as h}from"./aIJCLbCE.js";import{u as I,a as L}from"./B6-PUFFc.js";import{a as k}from"./DZ7xDmmC.js";import{f as C,r as m,u as D,c as E,a as i,b as r,q as c,k as p,w,o as B,d as U}from"#entry";import{a as g}from"./StygM1XU.js";const n=[];for(let e=0;e<256;++e)n.push((e+256).toString(16).slice(1));function N(e,t=0){return(n[e[t+0]]+n[e[t+1]]+n[e[t+2]]+n[e[t+3]]+"-"+n[e[t+4]]+n[e[t+5]]+"-"+n[e[t+6]]+n[e[t+7]]+"-"+n[e[t+8]]+n[e[t+9]]+"-"+n[e[t+10]]+n[e[t+11]]+n[e[t+12]]+n[e[t+13]]+n[e[t+14]]+n[e[t+15]]).toLowerCase()}let y;const j=new Uint8Array(16);function A(){if(!y){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");y=crypto.getRandomValues.bind(crypto)}return y(j)}const P=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),V={randomUUID:P};function T(e,t,s){e=e||{};const o=e.random??e.rng?.()??A();if(o.length<16)throw new Error("Random bytes length must be >= 16");return o[6]=o[6]&15|64,o[8]=o[8]&63|128,N(o)}function $(e,t,s){return V.randomUUID&&!e?V.randomUUID():T(e)}const q={class:"flex items-center justify-center w-full min-h-screen"},H={class:"rounded bg-sidebar p-5"},M={class:"flex items-center justify-center gap-5"},O=C({__name:"login",setup(e){k({title:"Login"});const t=m(""),s=m(""),o=m(""),f=I(),x=L(),_=D(),b=async()=>{f.setLoading(!0),await g.createEmailPasswordSession(t.value,o.value);const l=await g.get();l&&x.set({email:l.email,name:l.name,status:l.status}),t.value="",o.value="",s.value="",await _.push("/"),f.setLoading(!1)},R=async()=>{await g.create($(),t.value,o.value,s.value),await b()};return(l,a)=>{const d=S,v=h;return B(),E("div",q,[i("div",H,[a[5]||(a[5]=i("h1",{class:"font-bold text-2xl mb-5 text-center"}," Login ",-1)),i("form",null,[r(d,{placeholder:"Email",type:"email",class:"mb-3",modelValue:p(t),"onUpdate:modelValue":a[0]||(a[0]=u=>c(t)?t.value=u:null)},null,8,["modelValue"]),r(d,{placeholder:"Password",type:"password",class:"mb-3",modelValue:p(o),"onUpdate:modelValue":a[1]||(a[1]=u=>c(o)?o.value=u:null)},null,8,["modelValue"]),r(d,{placeholder:"Name",type:"name",class:"mb-3",modelValue:p(s),"onUpdate:modelValue":a[2]||(a[2]=u=>c(s)?s.value=u:null)},null,8,["modelValue"]),i("div",M,[r(v,{type:"button",onClick:b},{default:w(()=>[...a[3]||(a[3]=[U("Login",-1)])]),_:1}),r(v,{type:"button",onClick:R},{default:w(()=>[...a[4]||(a[4]=[U("Register",-1)])]),_:1})])])])])}}});export{O as default};
